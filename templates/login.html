<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Login - Legacy Link</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-blue: #2563eb;
      --dark-blue: #1e40af;
      --light-blue: #93c5fd;
      --white: #ffffff;
      --light-gray: #f3f4f6;
      --dark-gray: #6b7280;
      --error-yellow: #fef08a;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                  url("{% static 'images/login.jpg' %}") no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      position: relative;
      overflow: hidden;
      padding-right: 5%;
    }

    /* Animated background elements */
    .bg-circle {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(2px);
      animation: float 15s infinite linear;
    }

    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(-100vh) rotate(360deg); }
    }

    .page-back-button {
      position: absolute;
      top: 30px;
      left: 30px;
      background: var(--white);
      color: var(--primary-blue);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      font-size: 24px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transition: var(--transition);
      z-index: 10;
    }

    .page-back-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      background: var(--light-gray);
    }

    .login-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      padding: 40px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 450px;
      margin-right: 5%;
      position: relative;
      overflow: hidden;
      transition: var(--transition);
    }

    .login-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary-blue), var(--light-blue));
    }

    .login-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
    }

    h2 {
      margin-bottom: 30px;
      font-size: 28px;
      color: var(--primary-blue);
      font-weight: 600;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .input-box {
      position: relative;
    }

    input {
      padding: 15px 15px 15px 45px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: var(--white);
      color: var(--dark-gray);
      font-size: 16px;
      width: 100%;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      transition: var(--transition);
    }

    input:focus {
      outline: none;
      border-color: var(--primary-blue);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
    }

    input::placeholder {
      color: var(--dark-gray);
      opacity: 0.7;
    }

    .input-box i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary-blue);
      font-size: 18px;
    }

    button {
      padding: 15px;
      background: var(--primary-blue);
      color: var(--white);
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: var(--transition);
      margin-top: 10px;
      box-shadow: 0 4px 6px rgba(37, 99, 235, 0.2);
    }

    button:hover {
      background: var(--dark-blue);
      transform: translateY(-2px);
      box-shadow: 0 6px 10px rgba(37, 99, 235, 0.3);
    }

    .messages {
      margin-bottom: 20px;
    }

    .messages p {
      color: #b91c1c;
      background: var(--error-yellow);
      padding: 12px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 0;
    }

    .link-row {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
    }

    a {
      color: var(--primary-blue);
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
    }

    a:hover {
      color: var(--dark-blue);
      text-decoration: underline;
    }

    a i {
      margin-right: 5px;
      font-size: 12px;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      body {
        padding: 20px;
        justify-content: center;
      }

      .login-container {
        padding: 30px 20px;
        margin-right: 0;
      }

      .page-back-button {
        top: 15px;
        left: 15px;
        width: 40px;
        height: 40px;
        font-size: 20px;
      }
    }

    @media (max-width: 480px) {
      .link-row {
        flex-direction: column;
        gap: 10px;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <!-- Background animation elements -->
  <div id="bg-animation"></div>

  <a href="{% url 'home' %}" class="page-back-button">
    <i class="fas fa-arrow-left"></i>
  </a>

  <div class="login-container">
    <h2>Student Login</h2>

    {% if messages %}
      <div class="messages">
        {% for message in messages %}
          <p>{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <form method="POST" action="{% url 'login_user' %}">
      {% csrf_token %}
      <div class="input-box">
        <i class="fas fa-envelope"></i>
        <input type="email" name="email" placeholder="Email Address" required>
      </div>
      <div class="input-box">
        <i class="fas fa-lock"></i>
        <input type="password" name="password" placeholder="Password" required>
      </div>
      <button type="submit">
        <i class="fas fa-sign-in-alt"></i> Login
      </button>
      <div class="link-row">
        <a href="{% url 'signup_page' %}">
          <i class="fas fa-user-plus"></i> Create Account
        </a>
        <a href="{% url 'forgot_password' %}">
          <i class="fas fa-key"></i> Forgot Password?
        </a>
      </div>
    </form>
  </div>

  <script>
    // Create background animation elements
    document.addEventListener('DOMContentLoaded', function() {
      const bgAnimation = document.getElementById('bg-animation');
      const circleCount = window.innerWidth < 768 ? 8 : 15;
      
      for (let i = 0; i < circleCount; i++) {
        const circle = document.createElement('div');
        circle.classList.add('bg-circle');
        
        // Random properties
        const size = Math.random() * 200 + 50;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const delay = Math.random() * 15;
        const duration = Math.random() * 20 + 20;
        
        circle.style.width = ${size}px;
        circle.style.height = ${size}px;
        circle.style.left = ${posX}%;
        circle.style.top = ${posY}%;
        circle.style.animationDelay = ${delay}s;
        circle.style.animationDuration = ${duration}s;
        circle.style.opacity = Math.random() * 0.2 + 0.05;
        
        bgAnimation.appendChild(circle);
      }
    });
  </script>
</body>
</html>